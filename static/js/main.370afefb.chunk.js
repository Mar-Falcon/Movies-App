(this["webpackJsonpmovies-app"]=this["webpackJsonpmovies-app"]||[]).push([[0],{103:function(e,t,n){},254:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(93),s=n.n(c),i=(n(103),n(104),n(105),n(9)),l=n(10),o=n(4),d=n(17),u=n(18),j=n(2),b=n.n(j),m=n(3),h=n(55),p=n.n(h),v=p.a.create({baseURL:"https://moviesapp-6eb16-default-rtdb.firebaseio.com/"}),x=p.a.create({baseURL:"https://api.themoviedb.org/3/",params:{api_key:"8cf3b3ed805edd61876f9676282f15e0"}}),f=n(7),O=function(e){var t=[];for(var n in e)t.push(Object(f.a)({id:n},e[n]));return t},g=function(e){var t=[];for(var n in e)t.push(Object(f.a)({idFB:n},e[n]));return t},w=function(){var e=Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/users.json");case 2:return t=e.sent,e.abrupt("return",O(t.data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("/users.json",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.delete("/users/".concat(t,".json"));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_={getUsers:w,addUser:N,deleteUser:y},k=function(){var e=Object(a.useState)(),t=Object(o.a)(e,2),n=t[0],r=t[1],c=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.addUser(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.getUsers();case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("are you sure you want to delete this user?")){e.next=3;break}return e.next=3,_.deleteUser(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{addUser:c,getUsers:s,users:n,deleteUser:i}},F=n(0),M=Object(a.createContext)({currentUser:{},setCurrentUser:function(){}}),B=function(e){var t=e.children,n=Object(a.useState)({}),r=Object(o.a)(n,2),c=r[0],s=r[1];return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(M.Provider,{value:{currentUser:c,setCurrentUser:s},children:t})})},S=function(){var e=Object(m.a)(b.a.mark((function e(t){var n,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,a=t.search,e.next=3,x.get("/search/multi?query=".concat(a,"&page=").concat(n));case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(m.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,e.next=3,x.get("/movie/top_rated?page=".concat(n));case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("/movie/".concat(t,"/videos"));case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C={getMoviesFilter:S,getMovies:L,getVideo:U},E=function(){var e=Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/movies.json");case 2:return t=e.sent,e.abrupt("return",g(t.data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("/movies.json",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.delete("/movies/".concat(t,".json"));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/movies/".concat(t,".json"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z={getMovies:E,addMovies:D,deleteMovies:I,getMovieIdFB:A},T=function(){var e=function(){var e=Object(m.a)(b.a.mark((function e(t,n){var a,c,s,i,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=_.getUsers,e.next=4,a();case 4:if(c=e.sent,!(s=c.find((function(e){return e.email===t&&e.password===n})))){e.next=13;break}return e.next=9,f(s);case 9:(i=e.sent)&&(d(i),r(s)),e.next=14;break;case 13:throw new Error("El usuario no existe");case 14:l=c.find((function(e){return"admin"===e.role})),r(l||s),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,n){return e.apply(this,arguments)}}(),t=Object(a.useContext)(M),n=t.currentUser,r=t.setCurrentUser,c=Object(a.useState)(localStorage.getItem("user-token")||void 0),s=Object(o.a)(c,2),l=s[0],d=s[1],u=Object(a.useState)(),j=Object(o.a)(u,2),h=j[0],p=j[1],x=Object(i.f)().push;Object(a.useEffect)((function(){O()}),[]);var f=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Math.random().toString(36).substr(2),e.next=4,v.patch("/users/".concat(t.id,".json"),{sessionToken:n});case 4:return e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){l&&localStorage.setItem("user-token",l)}),[l]);var O=function(){var e=Object(m.a)(b.a.mark((function e(){var t,n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=_.getUsers,e.next=4,n();case 4:a=e.sent,l&&(t=a.find((function(e){return e.sessionToken===l}))),t?(r(t),p(!0)):p(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return{login:e,loginWithToken:O,logout:function(){localStorage.removeItem("user-token"),x("/login"),r(void 0)},hasUserLoggedIn:h,currentUser:n}},P=function(){var e=new URLSearchParams(window.location.search),t=parseInt(e.get("page"))||1,n=e.get("search")||void 0,r=Object(i.f)().push,c=Object(a.useState)(),s=Object(o.a)(c,2),l=s[0],d=s[1],u=Object(a.useState)(1),j=Object(o.a)(u,2),h=j[0],p=j[1],v=function(){var e=Object(m.a)(b.a.mark((function e(t){var n,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.page,!(a=t.search)){e.next=7;break}return e.next=4,C.getMoviesFilter({page:n,search:a});case 4:r=e.sent,e.next=10;break;case 7:return e.next=9,C.getMovies({page:n,search:a});case 9:r=e.sent;case 10:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getVideo(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){v({page:t,search:n}).then((function(e){return d(e)}))}),[t,n]),Object(a.useEffect)((function(){v({page:t,search:n}).then((function(e){return p(e.total_pages)}))}),[t,n]),{page:t,search:n,items:l,setItems:d,setSearchParams:function(t){e.set("search",t),r("".concat(window.location.pathname,"?").concat(e.toString()))},setPageParams:function(t){e.set("page",t.toString()),r("".concat(window.location.pathname,"?").concat(e.toString()))},getSearchMulti:v,lastPage:h,getMovieTrailer:x}},R=n(5),q=function(){var e=Object(a.useState)(),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(),s=Object(o.a)(c,2),i=s[0],l=s[1],d=Object(a.useState)(),u=Object(o.a)(d,2),j=u[0],h=u[1],p=T().currentUser,x=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.addMovies(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getMovies();case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(m.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getMovies();case 2:t=e.sent,(n=t.filter((function(e){return"movie"!==e.media_type})))&&r(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(m.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getMovies();case 2:t=e.sent,(n=t.filter((function(e){return"movie"===e.media_type})))&&r(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this movie?")){e.next=3;break}return e.next=3,z.deleteMovies(t);case 3:case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getMovieIdFB(t);case 2:n=e.sent,l(n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(null===p||void 0===p?void 0:p.viewed)||[""],e.next=3,v.patch("/users/".concat(null===p||void 0===p?void 0:p.id,".json"),{viewed:[].concat(Object(R.a)(n),[t])});case 3:h(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(m.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null===p||void 0===p||null===(n=p.viewed)||void 0===n?void 0:n.filter((function(e){return e!==t})),e.next=3,v.patch("users/".concat(null===p||void 0===p?void 0:p.id,".json"),{viewed:a});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{addItemsFB:x,getMoviesFB:f,itemsFB:n,deleteMoviesFB:w,getDetail:N,movieDetail:i,setMovieDetail:l,filterMovies:g,filterSeries:O,addMovieUser:y,removeMovieUser:_,movieViewed:j}},H=function(e){var t=e.item,n=q(),r=n.addItemsFB,c=n.deleteMoviesFB,s=n.addMovieUser,i=n.removeMovieUser,j=n.movieViewed,b=T().currentUser,m=Object(a.useState)(),h=Object(o.a)(m,2),p=h[0],v=h[1],x=Object(a.useState)(),f=Object(o.a)(x,2),O=f[0],g=f[1];return Object(a.useEffect)((function(){!1===p&&t.idFB===j&&(v(!1),g(!1)),!0===p&&t.idFB!==j&&(v(!0),g(!0))}),[v,j]),Object(F.jsxs)("div",{className:"card text-center bg-transparent mb-2",children:[Object(F.jsx)(l.b,{to:"/detail/".concat(t.idFB),className:"nav-link",children:Object(F.jsxs)("div",{className:"card-body text-white",children:[Object(F.jsx)("img",{src:"http://image.tmdb.org/t/p/w500".concat(t.poster_path),alt:t.title,className:"img-responsive col-md-9 mb-3 w-100"}),Object(F.jsx)("h4",{className:"card-title",children:t.title||t.name}),Object(F.jsxs)("div",{children:[Object(F.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"#F7D000",children:Object(F.jsx)("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})}),Object(F.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"#F7D000",children:Object(F.jsx)("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})}),Object(F.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"#F7D000",children:Object(F.jsx)("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})}),Object(F.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"#F7D000",children:Object(F.jsx)("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})}),Object(F.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"#F7D000",children:Object(F.jsx)("path",{d:"M5.354 5.119 7.538.792A.516.516 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0 1 16 6.32a.548.548 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.52.52 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.58.58 0 0 1 .085-.302.513.513 0 0 1 .37-.245l4.898-.696zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.565.565 0 0 1 .162-.505l2.907-2.77-4.052-.576a.525.525 0 0 1-.393-.288L8.001 2.223 8 2.226v9.8z"})})]}),Object(F.jsx)("p",{className:"card-text text-secundary mt-2",children:t.vote_average})]})}),Object(F.jsxs)("div",{className:"card-footer border-top-0 bg-transparent",children:["admin"===(null===b||void 0===b?void 0:b.role)&&Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){return r(t)},hidden:p,children:" Save "}),Object(F.jsx)("button",{className:"btn btn-outline-danger",onClick:function(){return c(t.idFB)},hidden:!p,children:" Delete "})]}),"user"===(null===b||void 0===b?void 0:b.role)&&Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("button",{className:"btn btn-outline-warning",onClick:function(){return s(t.idFB)},hidden:p,children:[Object(F.jsx)(d.a,{icon:u.c})," "]}),Object(F.jsxs)("button",{className:"btn btn-outline-warning",onClick:function(){return i(t.idFB)},hidden:!O,children:[Object(F.jsx)(d.a,{icon:u.b})," "]})]})]})]})},V=function(){var e=P(),t=e.items,n=e.getSearchMulti,r=e.page,c=e.search;return Object(a.useEffect)((function(){n({page:r,search:c}),console.log(t)}),[n,r,c]),Object(F.jsx)("div",{className:"container d-flex justify-content-center align-items-center h-100",children:Object(F.jsx)("div",{className:"row",children:null===t||void 0===t?void 0:t.results.map((function(e){return Object(F.jsx)("div",{className:"col-md-3",children:Object(F.jsx)(H,{item:{poster_path:e.poster_path,title:e.title||e.name,popularity:e.popularity,id:e.id,idFB:e.idFB,vote_average:e.vote_average,overview:e.overview,release_date:e.release_date||e.first_air_date,original_language:e.original_language,adult:e.adult,genre_ids:e.genre_ids,original_title:e.original_title,backdrop_path:e.backdrop_path,vote_count:e.vote_count,video:e.video,media_type:e.media_type||"movie"}})},e.id)}))})})},W=n(95),G=n.n(W),J=function(){var e=Object(a.useState)(),t=Object(o.a)(e,1)[0];return Object(F.jsx)("div",{style:{position:"fixed",top:0,right:0,bottom:0,left:0,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(F.jsx)(G.a,{color:"#555",loading:t,size:60})})},$=function(){var e=q(),t=e.getDetail,n=e.movieDetail,r=P().getMovieTrailer,c=Object(a.useState)([]),s=Object(o.a)(c,2),l=s[0],d=s[1],u=Object(i.g)().id;return Object(a.useEffect)((function(){t(u),console.log(n)}),[u]),Object(a.useEffect)((function(){r(null===n||void 0===n?void 0:n.id).then((function(e){return d(e)}))}),[n]),Object(F.jsx)("div",{className:"container",children:Object(F.jsx)("div",{className:"card bg-transparent",children:Object(F.jsx)("div",{className:"card-body text-white d-flex",children:Object(F.jsxs)("div",{className:"row",children:[Object(F.jsxs)("div",{className:"col-md-7",children:[Object(F.jsx)("h1",{className:"card-title",children:(null===n||void 0===n?void 0:n.title)||(null===n||void 0===n?void 0:n.name)}),Object(F.jsx)("h4",{className:"card-title",children:null===n||void 0===n?void 0:n.original_title}),Object(F.jsxs)("div",{children:[Object(F.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"#F7D000",children:Object(F.jsx)("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})}),Object(F.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"#F7D000",children:Object(F.jsx)("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})}),Object(F.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"#F7D000",children:Object(F.jsx)("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})}),Object(F.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"#F7D000",children:Object(F.jsx)("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})}),Object(F.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"#F7D000",children:Object(F.jsx)("path",{d:"M5.354 5.119 7.538.792A.516.516 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0 1 16 6.32a.548.548 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.52.52 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.58.58 0 0 1 .085-.302.513.513 0 0 1 .37-.245l4.898-.696zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.565.565 0 0 1 .162-.505l2.907-2.77-4.052-.576a.525.525 0 0 1-.393-.288L8.001 2.223 8 2.226v9.8z"})})]}),Object(F.jsx)("p",{className:"card-text text-secundary mt-2",children:null===n||void 0===n?void 0:n.vote_average}),Object(F.jsx)("p",{className:"overvie mt-3",children:null===n||void 0===n?void 0:n.overview}),Object(F.jsxs)("ul",{className:"mt-4",children:[Object(F.jsxs)("li",{children:[" original language: ",null===n||void 0===n?void 0:n.original_language]}),Object(F.jsxs)("li",{children:[" Release date: ",(null===n||void 0===n?void 0:n.release_date)||(null===n||void 0===n?void 0:n.first_air_date)]})]}),Object(F.jsxs)("div",{className:"trailers mt-6",children:[Object(F.jsx)("h3",{className:"text-white",children:"Trailers"}),null===l||void 0===l?void 0:l.map((function(e){return Object(F.jsx)("div",{className:"row mt-4",children:Object(F.jsx)("div",{className:"col-md-6 mb-3",children:Object(F.jsx)("iframe",{width:"90%",height:"215",src:"https://www.youtube.com/embed/".concat(e.key),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})}))]})]}),Object(F.jsx)("div",{className:"col-md-5",children:Object(F.jsx)("img",{src:"http://image.tmdb.org/t/p/w500".concat(null===n||void 0===n?void 0:n.poster_path),alt:null===n||void 0===n?void 0:n.title,className:"img-responsive"})})]})})})})},Y=n(19),K={name:"",lastName:"",email:"",password:"",birthdate:"",role:"user",viewed:[""]},Q=n(16),X="This field is required",Z="Wrong format",ee={EIGHT:"Must be at least 8 characters",CHARACTERS:"It must have uppercase, lowercase and numbers"},te=Q.b().shape({email:Q.c().email(Z).required(X),password:Q.c().required(X).min(8,ee.EIGHT).matches(/^(?=.*[a-z])(?=.*\d)[a-z\d\w\W]{8,}$/,ee.CHARACTERS),name:Q.c().required(X),lastName:Q.c().required(X),birthdate:Q.a().required(X),role:Q.c()}),ne=n(44),ae=function(){var e,t,n,a,r=k().addUser,c=Object(i.f)().push,s=Object(Y.d)({defaultValues:K,resolver:Object(ne.a)(te)}),o=s.handleSubmit,d=s.register,u=s.formState,j=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(t);case 3:c("/login"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsxs)("form",{action:"",onSubmit:o(j),className:"container row g-3",children:[Object(F.jsxs)("div",{className:"col-md-3",children:[Object(F.jsx)("label",{htmlFor:"",className:"form-label",children:"Name"}),Object(F.jsx)("input",Object(f.a)(Object(f.a)({type:"text"},d("name")),{},{className:"form-control"})),Object(F.jsx)("span",{className:"text-danger",children:null===(e=u.errors.name)||void 0===e?void 0:e.message})]}),Object(F.jsxs)("div",{className:"col-md-3",children:[Object(F.jsx)("label",{htmlFor:"",className:"form-label",children:"Lastname"}),Object(F.jsx)("input",Object(f.a)(Object(f.a)({type:"text"},d("lastName")),{},{className:"form-control"})),Object(F.jsx)("span",{className:"text-danger",children:null===(t=u.errors.name)||void 0===t?void 0:t.message})]}),Object(F.jsxs)("div",{className:"col-md-6",children:[Object(F.jsx)("label",{htmlFor:"",className:"form-label",children:"Birthdate"}),Object(F.jsx)("input",Object(f.a)(Object(f.a)({type:"Date"},d("birthdate")),{},{className:"form-control"})),Object(F.jsx)("span",{className:"text-danger",children:u.errors.birthdate})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"",className:"form-label",children:"E-mail"}),Object(F.jsx)("input",Object(f.a)(Object(f.a)({type:"email"},d("email")),{},{className:"form-control"})),Object(F.jsx)("span",{className:"text-danger",children:null===(n=u.errors.email)||void 0===n?void 0:n.message})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"",className:"form-label",children:"Password"}),Object(F.jsx)("input",Object(f.a)(Object(f.a)({type:"password"},d("password")),{},{className:"form-control"})),Object(F.jsx)("span",{className:"text-danger",children:null===(a=u.errors.password)||void 0===a?void 0:a.message})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"",hidden:!0,children:"Role"}),Object(F.jsx)("input",Object(f.a)(Object(f.a)({type:"text"},d("role")),{},{hidden:!0}))]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"",hidden:!0,children:"Viewed"}),Object(F.jsx)("input",Object(f.a)(Object(f.a)({type:"text"},d("viewed")),{},{hidden:!0}))]}),Object(F.jsx)("div",{className:"d-flex justify-content-center",children:Object(F.jsx)("button",{type:"submit",className:"btn btn-primary m-auto",children:"Create Account"})}),Object(F.jsx)("div",{className:"d-flex justify-content-center",children:Object(F.jsx)(l.b,{to:"/login",className:"",children:"I have an account"})})]})},re={email:"",password:""},ce=Q.b().shape({email:Q.c().email(Z).required(X),password:Q.c().required(X).min(8,ee.EIGHT).matches(/^(?=.*[a-z])(?=.*\d)[a-z\d\w\W]{8,}$/)}),se=function(){var e,t,n=T().login,a=Object(i.f)().push,r=Object(Y.d)({defaultValues:re,resolver:Object(ne.a)(ce)}),c=r.handleSubmit,s=r.register,o=r.formState,d=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t.email,t.password);case 2:a("/");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsxs)("form",{action:"",onSubmit:c(d),className:"container row g-3",children:[Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"",className:"form-label",children:"E-mail"}),Object(F.jsx)("input",Object(f.a)(Object(f.a)({id:"email",type:"email"},s("email")),{},{className:"form-control"})),Object(F.jsx)("span",{className:"text-white",children:null===(e=o.errors.email)||void 0===e?void 0:e.message})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"",className:"form-label",children:"Password"}),Object(F.jsx)("input",Object(f.a)(Object(f.a)({id:"pass",type:"password"},s("password")),{},{className:"form-control"})),Object(F.jsx)("span",{className:"text-white",children:null===(t=o.errors.password)||void 0===t?void 0:t.message})]}),Object(F.jsx)("div",{className:"d-flex justify-content-center",children:Object(F.jsx)("button",{type:"submit",className:"btn btn-primary m-auto",children:"Login on"})}),Object(F.jsx)("div",{className:"d-flex justify-content-center",children:Object(F.jsx)(l.b,{to:"/signup",className:"",children:"I don\xb4t have an account"})})]})},ie=function(){var e=T(),t=e.logout,n=e.currentUser;return Object(F.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light p-3",children:Object(F.jsxs)("div",{className:"container-fluid",children:[Object(F.jsx)("div",{className:"navbar-brand text-white",children:Object(F.jsxs)("h1",{children:["Cinem",Object(F.jsx)("em",{children:"ADA"})]})}),Object(F.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(F.jsx)(d.a,{icon:u.a})}),Object(F.jsxs)("div",{className:"navbar-collapse collapse",id:"navbarSupportedContent",children:[Object(F.jsxs)("ul",{className:"navbar-nav ms-auto mb-2 mb-lg-0",children:[Object(F.jsx)("li",{className:"nav-item",children:Object(F.jsx)(l.b,{to:"/",className:"nav-link active text-light",children:" Home "})}),Object(F.jsx)("li",{className:"nav-item",children:Object(F.jsx)(l.b,{to:"/movies",className:"nav-link active text-white",children:" Movies "})}),Object(F.jsx)("li",{className:"nav-item",children:Object(F.jsx)(l.b,{to:"/series",className:"nav-link active text-white",children:" Series "})}),"admin"===(null===n||void 0===n?void 0:n.role)&&Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("li",{className:"nav-item",children:Object(F.jsx)(l.b,{to:"/users",className:"nav-link active text-white",children:" Users "})}),Object(F.jsx)("li",{className:"nav-item",children:Object(F.jsx)(l.b,{to:"/admin",className:"nav-link active text-white",children:" Admin "})})]})]}),Object(F.jsx)("button",{className:"btn",onClick:t,children:Object(F.jsx)(d.a,{icon:u.d})})]})]})})},le=function(){return Object(F.jsx)("header",{className:"header",children:Object(F.jsx)(ie,{})})},oe=function(e){var t=e.children,n=e.id;return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("main",{id:n,className:"main",children:t})})},de=function(e){var t=e.children,n=e.hideHeader,a=e.mainClass;return Object(F.jsxs)(F.Fragment,{children:[!n&&Object(F.jsx)(le,{}),Object(F.jsx)(oe,{id:a,children:t})]})},ue=function(){var e=k(),t=e.users,n=e.getUsers,r=e.deleteUser;return Object(a.useEffect)((function(){n()}),[n,t]),Object(F.jsx)("div",{className:"container",children:Object(F.jsxs)("table",{className:"table",children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{className:"col",children:[Object(F.jsx)("th",{scope:"col",className:"text-white",children:"Name"}),Object(F.jsx)("th",{scope:"col",className:"text-white",children:"LastName"}),Object(F.jsx)("th",{scope:"col",className:"text-white",children:"Email"}),Object(F.jsx)("th",{scope:"col",className:"text-white",children:"Birthdate"})]})}),Object(F.jsx)("tbody",{children:null===t||void 0===t?void 0:t.map((function(e){return Object(F.jsxs)("tr",{className:"col",children:[Object(F.jsx)("td",{className:"text-light",children:e.name}),Object(F.jsx)("td",{className:"text-light",children:e.lastName}),Object(F.jsx)("td",{className:"text-light",children:e.email}),Object(F.jsx)("td",{className:"text-light",children:(t=e.birthdate,new Intl.DateTimeFormat("es-AR").format(new Date(t)))}),Object(F.jsx)("td",{className:"text-light",children:Object(F.jsx)("button",{className:"btn btn-danger",onClick:function(){return r(e.id)},children:Object(F.jsx)(d.a,{icon:u.f})})})]});var t}))})]})})},je=function(){var e=q(),t=e.itemsFB,n=e.filterMovies;return Object(a.useEffect)((function(){n()}),[]),Object(F.jsx)("div",{className:"container d-flex justify-content-center align-items-center h-100",children:Object(F.jsx)("div",{className:"row",children:null===t||void 0===t?void 0:t.map((function(e){return Object(F.jsx)("div",{className:"col-md-3",children:Object(F.jsx)(H,{item:{poster_path:e.poster_path,title:e.title||e.name,popularity:e.popularity,id:e.id,idFB:e.idFB,vote_average:e.vote_average,overview:e.overview,release_date:e.release_date||e.first_air_date,original_language:e.original_language,adult:e.adult,genre_ids:e.genre_ids,original_title:e.original_title,backdrop_path:e.backdrop_path,vote_count:e.vote_count,video:e.video,media_type:e.media_type}})})}))})})},be=function(){var e=q(),t=e.itemsFB,n=e.filterSeries;return Object(a.useEffect)((function(){n()}),[]),Object(F.jsx)("div",{className:"container d-flex justify-content-center align-items-center h-100",children:Object(F.jsx)("div",{className:"row",children:null===t||void 0===t?void 0:t.map((function(e){return Object(F.jsx)("div",{className:"col-md-3",children:Object(F.jsx)(H,{item:{poster_path:e.poster_path,title:e.title||e.name,popularity:e.popularity,id:e.id,idFB:e.idFB,vote_average:e.vote_average,overview:e.overview,release_date:e.release_date||e.first_air_date,original_language:e.original_language,adult:e.adult,genre_ids:e.genre_ids,original_title:e.original_title,backdrop_path:e.backdrop_path,vote_count:e.vote_count,video:e.video,media_type:e.media_type}})})}))})})},me=function(e){var t=e.handleChange;return Object(F.jsx)("div",{className:"container",children:Object(F.jsxs)("div",{className:"d-flex mb-5 align-items-center",children:[Object(F.jsx)("span",{className:"text-white me-4",children:"Buscar"}),Object(F.jsx)("input",{className:"form-control me-4",type:"text",placeholder:"Enter your search",onChange:function(e){return t(e.target.value)}}),Object(F.jsx)("span",{children:Object(F.jsx)(d.a,{icon:u.e,className:"text-white auto"})})]})})},he=function(){var e,t,n=P(),a=n.setPageParams,r=n.page,c=n.lastPage,s=!0;r<=1&&(e="disabled"),r===c&&(t="disabled");return Object(F.jsx)("div",{className:"Page navigation example pb-2",children:Object(F.jsxs)("ul",{className:"pagination justify-content-center",children:[Object(F.jsx)("li",{className:"page-item ".concat(e),children:Object(F.jsx)("button",{className:"page-link",onClick:function(){a(1),s=!1},disabled:!s,children:" First "})}),Object(F.jsx)("li",{className:"page-item ".concat(e),id:"prevPage",children:Object(F.jsxs)("button",{className:"page-link",onClick:function(){r<=1?s=!1:a(r-1)},disabled:!s,children:[" ",r-1," "]})}),Object(F.jsx)("li",{className:"page-item active",children:Object(F.jsxs)("button",{className:"page-link",children:[" ",r," "]})}),Object(F.jsx)("li",{className:"page-item ".concat(t),children:Object(F.jsxs)("button",{className:"page-link",onClick:function(){a(r+1),r===c&&(a(r),s=!1)},disabled:!s,children:[" ",r+1," "]})}),Object(F.jsx)("li",{className:"page-item ".concat(t),children:Object(F.jsx)("button",{className:"page-link",onClick:function(){a(c),s=!1},disabled:!s,children:" Last "})})]})})},pe=["/login","/signup"],ve=["/admin","/users"],xe=function(e){return function(){var t=Object(i.f)(),n=t.push,a=t.location,r=T(),c=r.hasUserLoggedIn,s=r.currentUser;return void 0===c?Object(F.jsx)(J,{}):("admin"!==(null===s||void 0===s?void 0:s.role)&&ve.includes(a.pathname)&&n("/"),c&&pe.includes(a.pathname)&&n("/"),!1!==c||pe.includes(a.pathname)||n("/login"),Object(F.jsx)(e,{}))}},fe=xe((function(){return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("div",{className:"container d-flex justify-content-center align-items-center h-100",children:Object(F.jsxs)("div",{className:"card-body",children:[Object(F.jsxs)("h1",{className:"text-white d-flex justify-content-center",children:["Cinem",Object(F.jsx)("em",{children:"ADA"})]}),Object(F.jsx)(ae,{})]})})})})),Oe=xe((function(){var e=P().setSearchParams;return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)(de,{children:[Object(F.jsx)(me,{handleChange:e}),Object(F.jsx)(V,{}),Object(F.jsx)(he,{})]})})})),ge=xe((function(){return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(se,{})})})),we=xe((function(){return Object(F.jsx)(de,{children:Object(F.jsx)(ue,{})})})),Ne=xe((function(){var e=q(),t=e.itemsFB,n=e.getMoviesFB;return Object(a.useEffect)((function(){n()}),[]),Object(F.jsx)(de,{children:Object(F.jsx)("div",{className:"container d-flex justify-content-center align-items-center h-100",children:Object(F.jsx)("div",{className:"row",children:null===t||void 0===t?void 0:t.map((function(e){return Object(F.jsx)("div",{className:"col-md-3",children:Object(F.jsx)(H,{item:{poster_path:e.poster_path,title:e.title||e.name,popularity:e.popularity,id:e.id,idFB:e.idFB,vote_average:e.vote_average,overview:e.overview,release_date:e.release_date||e.first_air_date,original_language:e.original_language,adult:e.adult,genre_ids:e.genre_ids,original_title:e.original_title,backdrop_path:e.backdrop_path,vote_count:e.vote_count,video:e.video,media_type:e.media_type}})},e.id)}))})})})})),ye=xe((function(){return Object(F.jsx)(de,{children:Object(F.jsx)(je,{})})})),_e=xe((function(){return Object(F.jsx)(de,{children:Object(F.jsx)(be,{})})})),ke=xe((function(){return Object(F.jsx)(de,{children:Object(F.jsxs)("div",{className:"container",children:[Object(F.jsx)("div",{className:"w-100",children:Object(F.jsx)($,{})}),Object(F.jsx)("div",{className:"container d-flex justify-content-center align-items-center",children:Object(F.jsxs)("div",{className:"w-100 row",children:[Object(F.jsx)("h3",{className:"text-white mt-5",children:"Also..."}),Object(F.jsx)(je,{}),Object(F.jsx)(be,{})]})})]})})})),Fe=function(){return Object(F.jsx)(B,{children:Object(F.jsx)("div",{className:"App",children:Object(F.jsx)(l.a,{children:Object(F.jsxs)(i.c,{children:[Object(F.jsx)(i.a,{path:"/signup",component:fe}),Object(F.jsx)(i.a,{path:"/admin",component:Oe}),Object(F.jsx)(i.a,{path:"/detail/:id",component:ke}),Object(F.jsx)(i.a,{path:"/movies",component:ye}),Object(F.jsx)(i.a,{path:"/series",component:_e}),Object(F.jsx)(i.a,{path:"/login",component:ge}),Object(F.jsx)(i.a,{path:"/users",component:we}),Object(F.jsx)(i.a,{path:"/",component:Ne})]})})})})};s.a.render(Object(F.jsx)(r.a.StrictMode,{children:Object(F.jsx)(Fe,{})}),document.getElementById("root"))}},[[254,1,2]]]);
//# sourceMappingURL=main.370afefb.chunk.js.map