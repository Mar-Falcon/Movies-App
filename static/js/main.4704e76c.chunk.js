(this["webpackJsonpmovies-app"]=this["webpackJsonpmovies-app"]||[]).push([[0],{103:function(e,t,n){},254:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(93),s=n.n(c),i=(n(103),n(104),n(105),n(9)),l=n(10),o=n(17),u=n(18),d=n(2),j=n.n(d),b=n(3),m=n(7),h=n(55),v=n.n(h),p=v.a.create({baseURL:"https://moviesapp-6eb16-default-rtdb.firebaseio.com/"}),x=v.a.create({baseURL:"https://api.themoviedb.org/3/",params:{api_key:"8cf3b3ed805edd61876f9676282f15e0"}}),f=n(4),O=function(e){var t=[];for(var n in e)t.push(Object(f.a)({id:n},e[n]));return t},g=function(e){var t=[];for(var n in e)t.push(Object(f.a)({idFB:n},e[n]));return t},w=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("/users.json");case 2:return t=e.sent,e.abrupt("return",O(t.data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.post("/users.json",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.delete("/users/".concat(t,".json"));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k={getUsers:w,addUser:N,deleteUser:y},F=function(){var e=Object(r.useState)(),t=Object(m.a)(e,2),n=t[0],a=t[1],c=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.addUser(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getUsers();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("are you sure you want to delete this user?")){e.next=3;break}return e.next=3,k.deleteUser(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{addUser:c,getUsers:s,users:n,deleteUser:i}},M=n(0),L=Object(r.createContext)({currentUser:{},setCurrentUser:function(){}}),U=function(e){var t=e.children,n=Object(r.useState)({}),a=Object(m.a)(n,2),c=a[0],s=a[1];return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(L.Provider,{value:{currentUser:c,setCurrentUser:s},children:t})})},S=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,r=t.search,e.next=3,x.get("/search/multi?query=".concat(r,"&page=").concat(n));case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,e.next=3,x.get("/movie/top_rated?page=".concat(n));case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("/movie/".concat(t,"/videos"));case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C={getMoviesFilter:S,getMovies:_,getVideo:B},D=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("/movies.json");case 2:return t=e.sent,e.abrupt("return",g(t.data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.post("/movies.json",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.delete("/movies/".concat(t,".json"));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("/movies/".concat(t,".json"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z={getMovies:D,addMovies:E,deleteMovies:I,getMovieIdFB:A},T=function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(t,n){var r,c,s,i,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=k.getUsers,e.next=4,r();case 4:if(c=e.sent,!(s=c.find((function(e){return e.email===t&&e.password===n})))){e.next=13;break}return e.next=9,f(s);case 9:(i=e.sent)&&(o(i),a(s)),e.next=14;break;case 13:throw new Error("El usuario no existe");case 14:l=c.find((function(e){return"admin"===e.role})),a(l||s),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,n){return e.apply(this,arguments)}}(),t=Object(r.useContext)(L),n=t.currentUser,a=t.setCurrentUser,c=Object(r.useState)(localStorage.getItem("user-token")||void 0),s=Object(m.a)(c,2),l=s[0],o=s[1],u=Object(r.useState)(),d=Object(m.a)(u,2),h=d[0],v=d[1],x=Object(i.f)().push;Object(r.useEffect)((function(){O()}),[]);var f=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Math.random().toString(36).substr(2),e.next=4,p.patch("/users/".concat(t.id,".json"),{sessionToken:n});case 4:return e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){l&&localStorage.setItem("user-token",l)}),[l]);var O=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=k.getUsers,e.next=4,n();case 4:r=e.sent,l&&(t=r.find((function(e){return e.sessionToken===l}))),t?(a(t),v(!0)):v(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return{login:e,loginWithToken:O,logout:function(){localStorage.removeItem("user-token"),x("/login"),a(void 0)},hasUserLoggedIn:h,currentUser:n,UpdateUserData:function(){O()}}},P=function(){var e=new URLSearchParams(window.location.search),t=parseInt(e.get("page"))||1,n=e.get("search")||void 0,a=Object(i.f)().push,c=Object(r.useState)(),s=Object(m.a)(c,2),l=s[0],o=s[1],u=Object(r.useState)(1),d=Object(m.a)(u,2),h=d[0],v=d[1],p=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.page,!(r=t.search)){e.next=7;break}return e.next=4,C.getMoviesFilter({page:n,search:r});case 4:a=e.sent,e.next=10;break;case 7:return e.next=9,C.getMovies({page:n,search:r});case 9:a=e.sent;case 10:return o(a),e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getVideo(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){p({page:t,search:n}).then((function(e){return v(e.total_pages)}))}),[t,n]),{page:t,search:n,items:l,setItems:o,setSearchParams:function(t){e.set("search",t),a("".concat(window.location.pathname,"?").concat(e.toString()))},setPageParams:function(t){e.set("page",t.toString()),a("".concat(window.location.pathname,"?").concat(e.toString()))},getSearchMulti:p,getMovieTrailer:x,lastPage:h}},R=n(5),q=function(){var e=Object(r.useState)(),t=Object(m.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(),s=Object(m.a)(c,2),i=s[0],l=s[1],o=T(),u=o.currentUser,d=o.UpdateUserData,h=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.addMovies(t);case 2:return e.next=4,v();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getMovies();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getMovies();case 2:t=e.sent,(n=t.filter((function(e){return"movie"!==e.media_type})))&&a(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getMovies();case 2:t=e.sent,(n=t.filter((function(e){return"movie"===e.media_type})))&&a(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this movie?")){e.next=3;break}return e.next=3,z.deleteMovies(t);case 3:return e.next=6,v();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getMovieIdFB(t);case 2:n=e.sent,l(n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(null===u||void 0===u?void 0:u.viewed)||[],e.next=3,p.patch("/users/".concat(null===u||void 0===u?void 0:u.id,".json"),{viewed:[].concat(Object(R.a)(n),[t])});case 3:d();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null===u||void 0===u||null===(n=u.viewed)||void 0===n?void 0:n.filter((function(e){return e!==t})),e.next=3,p.patch("users/".concat(null===u||void 0===u?void 0:u.id,".json"),{viewed:r});case 3:d();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{addItemsFB:h,getMoviesFB:v,itemsFB:n,deleteMoviesFB:O,getDetail:g,movieDetail:i,setMovieDetail:l,filterMovies:f,filterSeries:x,addMovieUser:w,removeMovieUser:N,isMovieViewed:function(e){var t;return null===u||void 0===u||null===(t=u.viewed)||void 0===t?void 0:t.find((function(t){return t===e}))},isMovieInFB:function(e){return null===n||void 0===n?void 0:n.find((function(t){return t.id===e}))}}},H=function(e){var t=e.item,n=q(),a=n.addItemsFB,c=n.deleteMoviesFB,s=n.addMovieUser,i=n.removeMovieUser,d=n.isMovieViewed,j=n.isMovieInFB,b=n.getMoviesFB,m=T().currentUser;return Object(r.useEffect)((function(){b()}),[]),Object(M.jsxs)("div",{className:"card text-center bg-transparent mb-2",children:[Object(M.jsx)(l.b,{to:"/detail/".concat(t.idFB),className:"nav-link",children:Object(M.jsxs)("div",{className:"card-body text-white",children:[Object(M.jsx)("img",{src:"http://image.tmdb.org/t/p/w500".concat(t.poster_path),alt:t.title,className:"img-responsive col-md-9 mb-3 w-100"}),Object(M.jsx)("h4",{className:"card-title",children:t.title||t.name}),Object(M.jsxs)("div",{children:[Object(M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"#F7D000",children:Object(M.jsx)("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})}),Object(M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"#F7D000",children:Object(M.jsx)("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})}),Object(M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"#F7D000",children:Object(M.jsx)("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})}),Object(M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"#F7D000",children:Object(M.jsx)("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})}),Object(M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"#F7D000",children:Object(M.jsx)("path",{d:"M5.354 5.119 7.538.792A.516.516 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0 1 16 6.32a.548.548 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.52.52 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.58.58 0 0 1 .085-.302.513.513 0 0 1 .37-.245l4.898-.696zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.565.565 0 0 1 .162-.505l2.907-2.77-4.052-.576a.525.525 0 0 1-.393-.288L8.001 2.223 8 2.226v9.8z"})})]}),Object(M.jsx)("p",{className:"card-text text-secundary mt-2",children:t.vote_average})]})}),Object(M.jsxs)("div",{className:"card-footer border-top-0 bg-transparent",children:["admin"===(null===m||void 0===m?void 0:m.role)&&!j(t.id)&&Object(M.jsx)("button",{className:"btn btn-outline-secondary",type:"submit",onClick:function(){return a(t)},children:" Save "}),"admin"===(null===m||void 0===m?void 0:m.role)&&j(t.id)&&Object(M.jsx)("button",{className:"btn btn-outline-danger",type:"submit",onClick:function(){return c(t.idFB)},children:" Delete "}),"user"===(null===m||void 0===m?void 0:m.role)&&!d(t.idFB)&&Object(M.jsxs)("button",{className:"btn btn-outline-warning",type:"submit",onClick:function(){return s(t.idFB)},children:[Object(M.jsx)(o.a,{icon:u.c})," "]}),"user"===(null===m||void 0===m?void 0:m.role)&&d(t.idFB)&&Object(M.jsxs)("button",{className:"btn btn-outline-warning",type:"submit",onClick:function(){return i(t.idFB)},children:[Object(M.jsx)(o.a,{icon:u.b})," "]})]})]})},V=function(){var e=P().items;return Object(M.jsx)("div",{className:"container d-flex justify-content-center align-items-center h-100",children:Object(M.jsx)("div",{className:"row",children:null===e||void 0===e?void 0:e.results.map((function(e){return Object(M.jsx)("div",{className:"col-md-3",children:Object(M.jsx)(H,{item:Object(f.a)(Object(f.a)({},e),{},{title:e.title||e.name,release_date:e.release_date||e.first_air_date,media_type:e.media_type||"movie"})})},e.id)}))})})},W=n(95),G=n.n(W),J=function(){var e=Object(r.useState)(),t=Object(m.a)(e,1)[0];return Object(M.jsx)("div",{style:{position:"fixed",top:0,right:0,bottom:0,left:0,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(M.jsx)(G.a,{color:"#555",loading:t,size:60})})},$=function(){var e=q(),t=e.getDetail,n=e.movieDetail,a=P().getMovieTrailer,c=Object(r.useState)([]),s=Object(m.a)(c,2),l=s[0],o=s[1],u=Object(i.g)().id;return Object(r.useEffect)((function(){t(u)}),[u]),Object(r.useEffect)((function(){a(null===n||void 0===n?void 0:n.id).then((function(e){return o(e)}))}),[n]),Object(M.jsx)("div",{className:"card bg-transparent text-white d-flex p-4",children:Object(M.jsxs)("div",{className:"row",children:[Object(M.jsxs)("div",{className:"car-body col-md-7",children:[Object(M.jsx)("h1",{className:"card-title",children:(null===n||void 0===n?void 0:n.title)||(null===n||void 0===n?void 0:n.name)}),Object(M.jsx)("h4",{className:"card-title",children:null===n||void 0===n?void 0:n.original_title}),Object(M.jsxs)("div",{children:[Object(M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"#F7D000",children:Object(M.jsx)("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})}),Object(M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"#F7D000",children:Object(M.jsx)("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})}),Object(M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"#F7D000",children:Object(M.jsx)("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})}),Object(M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"#F7D000",children:Object(M.jsx)("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})}),Object(M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"#F7D000",children:Object(M.jsx)("path",{d:"M5.354 5.119 7.538.792A.516.516 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0 1 16 6.32a.548.548 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.52.52 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.58.58 0 0 1 .085-.302.513.513 0 0 1 .37-.245l4.898-.696zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.565.565 0 0 1 .162-.505l2.907-2.77-4.052-.576a.525.525 0 0 1-.393-.288L8.001 2.223 8 2.226v9.8z"})})]}),Object(M.jsx)("p",{className:"card-text text-secundary mt-2",children:null===n||void 0===n?void 0:n.vote_average}),Object(M.jsx)("p",{className:"overvie mt-3",children:null===n||void 0===n?void 0:n.overview}),Object(M.jsxs)("ul",{className:"mt-4",children:[Object(M.jsxs)("li",{children:[" original language: ",null===n||void 0===n?void 0:n.original_language]}),Object(M.jsxs)("li",{children:[" Release date: ",(null===n||void 0===n?void 0:n.release_date)||(null===n||void 0===n?void 0:n.first_air_date)]})]}),Object(M.jsxs)("div",{className:"trailers mt-6",children:[Object(M.jsx)("h3",{className:"text-white",children:"Trailers"}),null===l||void 0===l?void 0:l.map((function(e){return Object(M.jsx)("div",{className:"row mt-4",children:Object(M.jsx)("div",{className:"col-md-6 mb-3",children:Object(M.jsx)("iframe",{width:"90%",height:"215",src:"https://www.youtube.com/embed/".concat(e.key),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})}))]})]}),Object(M.jsx)("div",{className:"col-md-5",children:Object(M.jsx)("img",{src:"http://image.tmdb.org/t/p/w500".concat(null===n||void 0===n?void 0:n.poster_path),alt:null===n||void 0===n?void 0:n.title,className:"img-responsive"})})]})})},Y=n(19),K={name:"",lastName:"",email:"",password:"",birthdate:"",role:"user",viewed:[""]},Q=n(16),X="This field is required",Z="Wrong format",ee={EIGHT:"Must be at least 8 characters",CHARACTERS:"It must have uppercase, lowercase and numbers"},te=Q.b().shape({email:Q.c().email(Z).required(X),password:Q.c().required(X).min(8,ee.EIGHT).matches(/^(?=.*[a-z])(?=.*\d)[a-z\d\w\W]{8,}$/,ee.CHARACTERS),name:Q.c().required(X),lastName:Q.c().required(X),birthdate:Q.a().required(X),role:Q.c()}),ne=n(44),re=function(){var e,t,n,r,a=F().addUser,c=Object(i.f)().push,s=Object(Y.d)({defaultValues:K,resolver:Object(ne.a)(te)}),o=s.handleSubmit,u=s.register,d=s.formState,m=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a(t);case 3:c("/login"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsxs)("form",{action:"",onSubmit:o(m),className:"container row g-3",children:[Object(M.jsxs)("div",{className:"col-md-3",children:[Object(M.jsx)("label",{htmlFor:"",className:"form-label",children:"Name"}),Object(M.jsx)("input",Object(f.a)(Object(f.a)({type:"text"},u("name")),{},{className:"form-control"})),Object(M.jsx)("span",{className:"text-danger",children:null===(e=d.errors.name)||void 0===e?void 0:e.message})]}),Object(M.jsxs)("div",{className:"col-md-3",children:[Object(M.jsx)("label",{htmlFor:"",className:"form-label",children:"Lastname"}),Object(M.jsx)("input",Object(f.a)(Object(f.a)({type:"text"},u("lastName")),{},{className:"form-control"})),Object(M.jsx)("span",{className:"text-danger",children:null===(t=d.errors.name)||void 0===t?void 0:t.message})]}),Object(M.jsxs)("div",{className:"col-md-6",children:[Object(M.jsx)("label",{htmlFor:"",className:"form-label",children:"Birthdate"}),Object(M.jsx)("input",Object(f.a)(Object(f.a)({type:"Date"},u("birthdate")),{},{className:"form-control"})),Object(M.jsx)("span",{className:"text-danger",children:d.errors.birthdate})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{htmlFor:"",className:"form-label",children:"E-mail"}),Object(M.jsx)("input",Object(f.a)(Object(f.a)({type:"email"},u("email")),{},{className:"form-control"})),Object(M.jsx)("span",{className:"text-danger",children:null===(n=d.errors.email)||void 0===n?void 0:n.message})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{htmlFor:"",className:"form-label",children:"Password"}),Object(M.jsx)("input",Object(f.a)(Object(f.a)({type:"password"},u("password")),{},{className:"form-control"})),Object(M.jsx)("span",{className:"text-danger",children:null===(r=d.errors.password)||void 0===r?void 0:r.message})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{htmlFor:"",hidden:!0,children:"Role"}),Object(M.jsx)("input",Object(f.a)(Object(f.a)({type:"text"},u("role")),{},{hidden:!0}))]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{htmlFor:"",hidden:!0,children:"Viewed"}),Object(M.jsx)("input",Object(f.a)(Object(f.a)({type:"text"},u("viewed")),{},{hidden:!0}))]}),Object(M.jsx)("div",{className:"d-flex justify-content-center",children:Object(M.jsx)("button",{type:"submit",className:"btn btn-primary m-auto",children:"Create Account"})}),Object(M.jsx)("div",{className:"d-flex justify-content-center",children:Object(M.jsx)(l.b,{to:"/login",className:"",children:"I have an account"})})]})},ae={email:"",password:""},ce=Q.b().shape({email:Q.c().email(Z).required(X),password:Q.c().required(X).min(8,ee.EIGHT).matches(/^(?=.*[a-z])(?=.*\d)[a-z\d\w\W]{8,}$/)}),se=function(){var e,t,n=T().login,r=Object(i.f)().push,a=Object(Y.d)({defaultValues:ae,resolver:Object(ne.a)(ce)}),c=a.handleSubmit,s=a.register,o=a.formState,u=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t.email,t.password);case 2:r("/");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsxs)("form",{action:"",onSubmit:c(u),className:"container row g-3",children:[Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{htmlFor:"",className:"form-label",children:"E-mail"}),Object(M.jsx)("input",Object(f.a)(Object(f.a)({id:"email",type:"email"},s("email")),{},{className:"form-control"})),Object(M.jsx)("span",{className:"text-white",children:null===(e=o.errors.email)||void 0===e?void 0:e.message})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{htmlFor:"",className:"form-label",children:"Password"}),Object(M.jsx)("input",Object(f.a)(Object(f.a)({id:"pass",type:"password"},s("password")),{},{className:"form-control"})),Object(M.jsx)("span",{className:"text-white",children:null===(t=o.errors.password)||void 0===t?void 0:t.message})]}),Object(M.jsx)("div",{className:"d-flex justify-content-center",children:Object(M.jsx)("button",{type:"submit",className:"btn btn-primary m-auto",children:"Login on"})}),Object(M.jsx)("div",{className:"d-flex justify-content-center",children:Object(M.jsx)(l.b,{to:"/signup",className:"",children:"I don\xb4t have an account"})})]})},ie=function(){var e=T(),t=e.logout,n=e.currentUser;return Object(M.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light p-3",children:Object(M.jsxs)("div",{className:"container-fluid",children:[Object(M.jsx)("div",{className:"navbar-brand text-white",children:Object(M.jsxs)("h1",{children:["Cinem",Object(M.jsx)("em",{children:"ADA"})]})}),Object(M.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(M.jsx)(o.a,{icon:u.a})}),Object(M.jsxs)("div",{className:"navbar-collapse collapse",id:"navbarSupportedContent",children:[Object(M.jsxs)("ul",{className:"navbar-nav ms-auto mb-2 mb-lg-0",children:[Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsx)(l.b,{to:"/",className:"nav-link active text-light",children:" Home "})}),Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsx)(l.b,{to:"/movies",className:"nav-link active text-white",children:" Movies "})}),Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsx)(l.b,{to:"/series",className:"nav-link active text-white",children:" Series "})}),"admin"===(null===n||void 0===n?void 0:n.role)&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsx)(l.b,{to:"/users",className:"nav-link active text-white",children:" Users "})}),Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsx)(l.b,{to:"/admin",className:"nav-link active text-white",children:" Admin "})})]})]}),Object(M.jsx)("button",{className:"btn",onClick:t,children:Object(M.jsx)(o.a,{icon:u.d})})]})]})})},le=function(){return Object(M.jsx)("header",{className:"header",children:Object(M.jsx)(ie,{})})},oe=function(e){var t=e.children,n=e.id;return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("main",{id:n,className:"main",children:t})})},ue=function(e){var t=e.children,n=e.hideHeader,r=e.mainClass;return Object(M.jsxs)(M.Fragment,{children:[!n&&Object(M.jsx)(le,{}),Object(M.jsx)(oe,{id:r,children:t})]})},de=function(){var e=F(),t=e.users,n=e.getUsers,a=e.deleteUser;return Object(r.useEffect)((function(){n()}),[n,t]),Object(M.jsx)("div",{className:"container",children:Object(M.jsxs)("table",{className:"table",children:[Object(M.jsx)("thead",{children:Object(M.jsxs)("tr",{className:"col",children:[Object(M.jsx)("th",{scope:"col",className:"text-white",children:"Name"}),Object(M.jsx)("th",{scope:"col",className:"text-white",children:"LastName"}),Object(M.jsx)("th",{scope:"col",className:"text-white",children:"Email"}),Object(M.jsx)("th",{scope:"col",className:"text-white",children:"Birthdate"})]})}),Object(M.jsx)("tbody",{children:null===t||void 0===t?void 0:t.map((function(e){return Object(M.jsxs)("tr",{className:"col",children:[Object(M.jsx)("td",{className:"text-light",children:e.name}),Object(M.jsx)("td",{className:"text-light",children:e.lastName}),Object(M.jsx)("td",{className:"text-light",children:e.email}),Object(M.jsx)("td",{className:"text-light",children:(t=e.birthdate,new Intl.DateTimeFormat("es-AR").format(new Date(t)))}),Object(M.jsx)("td",{className:"text-light",children:Object(M.jsx)("button",{className:"btn btn-danger",onClick:function(){return a(e.id)},children:Object(M.jsx)(o.a,{icon:u.f})})})]});var t}))})]})})},je=function(){var e=q(),t=e.itemsFB,n=e.filterMovies;return Object(r.useEffect)((function(){n()}),[]),Object(M.jsx)("div",{className:"container d-flex justify-content-center align-items-center h-100",children:Object(M.jsx)("div",{className:"row",children:null===t||void 0===t?void 0:t.map((function(e){return Object(M.jsx)("div",{className:"col-md-3",children:Object(M.jsx)(H,{item:Object(f.a)(Object(f.a)({},e),{},{title:e.title||e.name,release_date:e.release_date||e.first_air_date,media_type:e.media_type||"movie"})})})}))})})},be=function(){var e=q(),t=e.itemsFB,n=e.filterSeries;return Object(r.useEffect)((function(){n()}),[]),Object(M.jsx)("div",{className:"container d-flex justify-content-center align-items-center h-100",children:Object(M.jsx)("div",{className:"row",children:null===t||void 0===t?void 0:t.map((function(e){return Object(M.jsx)("div",{className:"col-md-3",children:Object(M.jsx)(H,{item:Object(f.a)(Object(f.a)({},e),{},{title:e.title||e.name,release_date:e.release_date||e.first_air_date,media_type:e.media_type||"movie"})})})}))})})},me=function(e){var t=e.handleChange;return Object(M.jsx)("div",{className:"container",children:Object(M.jsxs)("div",{className:"d-flex mb-5 align-items-center",children:[Object(M.jsx)("span",{className:"text-white me-4",children:"Buscar"}),Object(M.jsx)("input",{className:"form-control me-4",type:"text",placeholder:"Enter your search",onChange:function(e){return t(e.target.value)}}),Object(M.jsx)("span",{children:Object(M.jsx)(o.a,{icon:u.e,className:"text-white auto"})})]})})},he=function(){var e,t,n=P(),r=n.setPageParams,a=n.page,c=n.lastPage,s=!0;a<=1&&(e="disabled"),a===c&&(t="disabled");return Object(M.jsx)("div",{className:"Page navigation example pb-2",children:Object(M.jsxs)("ul",{className:"pagination justify-content-center",children:[Object(M.jsx)("li",{className:"page-item ".concat(e),children:Object(M.jsx)("button",{className:"page-link",onClick:function(){r(1),s=!1},disabled:!s,children:" First "})}),Object(M.jsx)("li",{className:"page-item ".concat(e),id:"prevPage",children:Object(M.jsxs)("button",{className:"page-link",onClick:function(){a<=1?s=!1:r(a-1)},disabled:!s,children:[" ",a-1," "]})}),Object(M.jsx)("li",{className:"page-item active",children:Object(M.jsxs)("button",{className:"page-link",children:[" ",a," "]})}),Object(M.jsx)("li",{className:"page-item ".concat(t),children:Object(M.jsxs)("button",{className:"page-link",onClick:function(){r(a+1),a===c&&(r(a),s=!1)},disabled:!s,children:[" ",a+1," "]})}),Object(M.jsx)("li",{className:"page-item ".concat(t),children:Object(M.jsx)("button",{className:"page-link",onClick:function(){r(c),s=!1},disabled:!s,children:" Last "})})]})})},ve=["/login","/signup"],pe=["/admin","/users"],xe=function(e){return function(){var t=Object(i.f)(),n=t.push,r=t.location,a=T(),c=a.hasUserLoggedIn,s=a.currentUser;return void 0===c?Object(M.jsx)(J,{}):("admin"!==(null===s||void 0===s?void 0:s.role)&&pe.includes(r.pathname)&&n("/"),c&&ve.includes(r.pathname)&&n("/"),!1!==c||ve.includes(r.pathname)||n("/login"),Object(M.jsx)(e,{}))}},fe=xe((function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("div",{className:"container d-flex justify-content-center align-items-center h-100",children:Object(M.jsxs)("div",{className:"card-body",children:[Object(M.jsxs)("h1",{className:"text-white d-flex justify-content-center",children:["Cinem",Object(M.jsx)("em",{children:"ADA"})]}),Object(M.jsx)(re,{})]})})})})),Oe=xe((function(){var e=P().setSearchParams;return Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(ue,{children:[Object(M.jsx)(me,{handleChange:e}),Object(M.jsx)(V,{}),Object(M.jsx)(he,{})]})})})),ge=xe((function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(se,{})})})),we=xe((function(){return Object(M.jsx)(ue,{children:Object(M.jsx)(de,{})})})),Ne=xe((function(){var e=q(),t=e.itemsFB,n=e.getMoviesFB;return Object(r.useEffect)((function(){n()}),[]),Object(M.jsx)(ue,{children:Object(M.jsx)("div",{className:"container d-flex justify-content-center align-items-center h-100",children:Object(M.jsx)("div",{className:"row",children:null===t||void 0===t?void 0:t.map((function(e){return Object(M.jsx)("div",{className:"col-md-3",children:Object(M.jsx)(H,{item:Object(f.a)(Object(f.a)({},e),{},{title:e.title||e.name,release_date:e.release_date||e.first_air_date,media_type:e.media_type||"movie"})})},e.id)}))})})})})),ye=xe((function(){return Object(M.jsx)(ue,{children:Object(M.jsx)(je,{})})})),ke=xe((function(){return Object(M.jsx)(ue,{children:Object(M.jsx)(be,{})})})),Fe=xe((function(){return Object(M.jsx)(ue,{children:Object(M.jsxs)("div",{className:"container",children:[Object(M.jsx)($,{}),Object(M.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(M.jsxs)("div",{className:"row",children:[Object(M.jsx)("h3",{className:"text-white mt-5",children:"Also..."}),Object(M.jsx)(je,{})]})})]})})})),Me=function(){return Object(M.jsx)(U,{children:Object(M.jsx)("div",{className:"App",children:Object(M.jsx)(l.a,{children:Object(M.jsxs)(i.c,{children:[Object(M.jsx)(i.a,{path:"/signup",component:fe}),Object(M.jsx)(i.a,{path:"/admin",component:Oe}),Object(M.jsx)(i.a,{path:"/detail/:id",component:Fe}),Object(M.jsx)(i.a,{path:"/movies",component:ye}),Object(M.jsx)(i.a,{path:"/series",component:ke}),Object(M.jsx)(i.a,{path:"/login",component:ge}),Object(M.jsx)(i.a,{path:"/users",component:we}),Object(M.jsx)(i.a,{path:"/",component:Ne})]})})})})};s.a.render(Object(M.jsx)(a.a.StrictMode,{children:Object(M.jsx)(Me,{})}),document.getElementById("root"))}},[[254,1,2]]]);
//# sourceMappingURL=main.4704e76c.chunk.js.map